# 페이징 교체 알고리즘

## 📌 A. (복습) 페이징 기법

운영체제는 주기억장치보다 더 큰 용량의 프로그램을 실행하기 위해 프로그램의 **일부**만 기억장치에 적재해서 사용 → 이를 '가상메모리 기법'이라고 함

<br/>

<p align="center">
  <img src="https://velog.velcdn.com/images%2Feu_nzi%2Fpost%2F0fd0fe82-ade7-448d-8cf7-d8efa2ce0c55%2Fimage.png" alt="text" width="485" />
</p>

<br/>

**페이징 기법**<br/>
: 프로세스(가상 메모리)는 '페이지' 단위로 나누고 물리 메모리는 '프레임' 단위로 나누어 관리.

페이지 테이블에는 각 페이지 번호와 해당 페이지가 할당된 프레임의 시작 물리 주소를 저장하고, **CPU가 논리주소로 프로그램이 설정한 바에 따라 연속적인 주소값**으로 명령을 내리면 물리 메모리로 접근하기 전에 **페이지 테이블을 거쳐 물리 주소로 변경되는 기법**

<br/>

## 📌 B. 페이지 교체 알고리즘

<br/>

> 페이징 기법으로 메모리를 관리하는 운영체제에서 필요한 페이지가 주기억장치에 적재되지 않았을 시, 즉 페이지 부재시 어떤 페이지 프레임을 선택하여 교체할 것인지 결정하는 방법

<br/>

- 주기억장치에 올라가지 않은 페이지 중 운영체제에서 필요한 페이지가 있어 이를 주기억장치에 올려야할 때, 현재 주기억장치에 올라가 있는 페이지와 중 어떤 페이지와 교체할 것인지를 선택하는 알고리즘

<br/>

## 📌 C. 페이지 교체 알고리즘의 종류

<br/>

- OPT
  - Optimal
  - 앞으로 가장 오랫동안 사용되지 않을 페이지 교체
- FIFO
  - First In First Out
- LRU
  - Least Recently Used
  - 가장 오랫동안 사용되지 않은 페이지 교체
- LFU
  - Least Frequently Used
  - 참조 횟수가 가장 적은 페이지 교체
- MFU
  - Most Frequently Used
  - 참조 횟수가 가장 많은 페이지 교체
- NUR
  - Not Used Recently
  - 최근에 사용하지 않은 페이지 교체

<br/>

### OPT(Optimal)

- 가장 이상적

- 프로세스가 앞으로 사용할 페이지를 미리 알아야 하므로 실제 시스템에서 온라인으로 사용할 수는 없는 오프라인 알고리즘

- 어떠한 알고리즘보다도 가장 적은 페이지 부재율을 보장하므로 다른 알고리즘 성능에 대한 상한성을 제공

<br/>

### FIFO(First In First Out)

- 메모리에 가장 먼저 올라온 페이지를 먼저 내보냄

- 간단하며, 초기화 코드에 대해 적절한 방법

- 들어온 시간을 저장하거나, 올라온 순서를 따로 저장해야 함

<br/>

### LRU(Least Recently Used)

- 가장 오랫동안 사용하지 않은 페이지를 교체

- 가장 오랫동안 사용하지 않았던 데이터라면 앞으로도 사용할 확률이 적을 것이라는 가정에서 출발

- ‘시간 지역성’ 성질을 고려한 방법

- 사용된 시간을 알 수 있는 부분을 저장하여야 한다.
  - 따라서 주기억장치에 접근할 때마다 참조된 페이지 시간을 기록해야 하므로 막대한 오버헤드가 발생하며, 이를 위해 카운터나 큐, 스택과 같은 별도 하드웨어가 필요하다는 단점이 있음

<br/>

### LFU(Least Frequently Used)

- 페이지의 참조 횟수로, 참조 횟수가 가장 낮은 페이지를 교체

- LRU는 직전에 참조된 시점만을 반영하지만, LFU는 참조 횟수를 통해 장기적 시간 규모에서의 참조 성향을 고려할 수 있음

- 단 가장 최근에 불러온 페이지가 교체될 수 있고, 구현이 복잡해진다는 단점이 있음
  덧붙여 LRU와 동일하게 오버헤드가 커짐

<br/>

### MFU(Most Frequently Used)

- 참조 횟수가 가장 많은 페이지를 교체

- 가장 많이 사용된 페이지가 앞으로는 사용되지 않을 것이라는 가정

<br/>

### NUR/NRU(Not Used Recently, Not Recently Used)

- LRU와 비슷한 방식으로 최근에 사용하지 않은 페이지 교체

- LRU 교체의 단점인 오버헤드를 적게하는 방법

- 최근 사용여부를 확인하기 위해 각 페이지마다 두 개의 비트(참조 비트, 변형 비트)를 사용

<br/>

## 📌 D. 참고 자료

🔗 [[OS] 페이지 교체 알고리즘 - FIFO/LRU/LFU/MFU/NUR](https://doh-an.tistory.com/28)

🔗 [[정보처리기사] 페이지 교체 알고리즘(FIFO/LRU/FU/NUR)](https://liveyourit.tistory.com/235)

🔗 [[운영체제] 페이징 교체 알고리즘](https://steady-coding.tistory.com/526)
