# 1. Race Condition

> 두 개 이상의 프로세스가 공통 자원을 같이 읽거나 쓰는 동작을 할 때 공용 데이터에 대한 접근이 어떤 순서에 따라 이루어졌는지에 따라 그 실행 결과가 같지 않고 달라지는 상황을 말함.
> 

경쟁 프로세스의 경우 deadlock, starvation 문제가 발생하게 됨.

<br/>

**Deadlock**

위에서 말한 상호배제를 시행하면 데드락이 발생하게 됨. 왜냐하면 두 프로세스가 각자 프로그램을 실행하기 위해 두 자원 모두에 액세스해야 된다고 가정하면 프로세스는 두 자원 모두를 필요로 하므로 필요한 두 리소스를 사용하여 프로그램을 수행 완료할 때까지 이미 소유한 리소스를 Release하지 않음. 그러면 두 프로세스 모두 서로가 가진 프로세스를 필요로 하게 되지만 아무것도 해결되지 않는 데드락이 발생하게 됨.

<br/>

**Starvation**

기아 문제는 프로세스들이 더 이상 진행을 하지 못하고 영구적으로 블록되어 있는 상황으로 시스템 자원에 대한 경쟁 도중에 발생하거나 프로세스간의 통신 과정에서 발생함. 두 개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다리고 있기 때문에 결과적으로 아무것도 완료되지 못하는 상태가 됨. 

<br/>

**Deadlock vs Starvation**

둘 다 자원의 할당을 계속해서 기다린다는 점에서 비슷하지만 데드락은 프로세스의 상태 중 `blocked` 상태에서 발생하고 기아는 `ready` 상태에서 발생함. 데드락은 절대 발생하지 않는 이벤트나 자원 할당을 대기하고 있지만 기아 상태는 CPU의 할당을 대기한다는 점에서 다름. 

<br/><br/>

# 2. Race Condition 해결을 위한 충족 조건

- Mutual exclusion

    race condition을 막기 위해서는 두 개의 프로세스가 Critical Section에 동시에 접근을 하는 것을 막아야 함. 즉 한 프로세스가 그 자원을 사용하고 있으면 다른 프로세스가 그 자원을 사용하지 못하도록 막으면 이 문제를 피할 수 있음. 
    
- Progress

    임계 영역에 들어간 프로세스가 없는 상태에서 임계 영역에 들어가려는 프로세스가 있으면 들어가게 해주어야 함. 즉 임계 영역에 있는 프로세스 외에는 다른 프로세스가 임계 영역에 진입하는 것을 방해해서는 안 됨.
    
- Bounded Waiting 

    Starvation 상태를 방지하기 위해 프로세스가 임계 영역에 들어가려고 요청한 후부터 다른 프로세스들이 임계 영역에 들어가는 횟수에 한계가 있어야 함.
